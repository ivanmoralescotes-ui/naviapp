<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Slideshow</title>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    html, body {
      width: 100%;
      height: 100%;
      background: #000;
      font-family: system-ui, sans-serif;
    }

    /* Contenedor ocupa toda la pantalla */
    #slideshow {
      width: 100vw;
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      background: #000;
      overflow: hidden;
      position: relative;
    }

    /* Imagen pantalla completa */
    
#slide-img {
  width: 100%;
  height: 100%;
  object-fit: contain;
  opacity: 0;
  transition: opacity 1.2s ease-in-out;  /* m√°s suave */
  display: block;
  position: absolute;
  inset: 0;
}

    /* üîπ Slide HTML (vers√≠culo) mejorado para m√≥vil */
    #slide-html {
  position: absolute;
  inset: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  padding: min(6vh, 32px);
  opacity: 0;
  transition: opacity 1.2s ease-in-out;  /* mismo tiempo que la imagen */
  color: #fff;
}

    /* Contenedor para que todo el contenido no quede tan pegado a los bordes */
    #slide-html-inner {
      max-width: 700px;
      width: 100%;
    }

    #slide-html a {
      color: #00c3ff;
      text-decoration: none;
      font-size: clamp(1.1rem, 2.4vh, 1.6rem); /* m√°s grande en celular */
      display: block;
      margin-bottom: 8px;
    }

    #slide-html a:hover {
      text-decoration: underline;
    }

    #slide-html p {
      margin-top: 10px;
      font-size: clamp(1.1rem, 2.3vh, 1.5rem); /* texto m√°s grande */
      line-height: 1.5;
    }

    /* Mostrar slide activo */
    #slide-img.show {
      opacity: 1;
    }
    #slide-html.show {
      opacity: 1;
    }

    #message {
      position: fixed;
      top: 20px;
      left: 50%;
      transform: translateX(-50%);
      color: #fff;
      background: rgba(0,0,0,0.6);
      padding: 8px 14px;
      border-radius: 8px;
      font-size: 14px;
    }
	
	
	/* üîπ Extra: en pantallas peque√±as a√∫n m√°s grande para que se lea sabroso */
 @media (max-width: 768px) {
  /* que el texto use m√°s ancho de la pantalla */
  #slide-html-inner {
    max-width: 95%;
  }

  #slide-html a {
    font-size: 2.6rem;   /* links m√°s grandes */
  }

  #slide-html p {
    font-size: 2.3rem;   /* texto principal m√°s grande */
    line-height: 1.7;    /* m√°s espacio entre l√≠neas */
  }
}


  </style>
</head>
<body>

  <div id="slideshow">
    
	<img id="slide-img" src="" alt="Imagen" />
	
	
    <div id="slide-html">
      <div id="slide-html-inner">
	  
	    <p id="verse-text">Aqu√≠ va el vers√≠culo de la Biblia.</p>
		<br><br>
		
        <a id="verse-link" href="#" target="_blank" rel="noopener noreferrer">
		  Spotify
        </a><br><br>
        <a id="verse-link2" href="#" target="_blank" rel="noopener noreferrer">
          Instagram
        </a><br>
        <a id="verse-link3" href="#" target="_blank" rel="noopener noreferrer">
          Whatsapp
        </a><br>
        
        <p id="quote-text">Aqu√≠ va la frase.</p>
		<br>
        <!--<p id="blood-text">Aqu√≠ va el tipo.</p>-->
		<p id="lucknumber-text">Aqu√≠ va el numero.</p>
		<br>
		<a id="verse-link4" href="#" target="_blank" rel="noopener noreferrer">
          <i>Ad</i>
        </a>
      </div>
    </div>
  </div>

  <div id="message" style="display:none;"></div>

  <script>
    
    let verseLink  = "https://open.spotify.com/playlist/6zV9uAXv1YVor3H3m5PAej";
    
	let verseLink2 = "https://www.instagram.com/jhonatan_pino_?utm_source=ig_web_button_share_sheet&igsh=ZDNlZDc0MzIxNw==";
    
	let verseLink3 = "https://wa.me/573113068431";

    //let verseText  = "‚ÄúJes√∫s dijo: Todo es posible para el que cree.‚Äù (Marcos 9:23)";
    //let quoteText  = "‚ÄúEl secreto para salir adelante es comenzar.‚Äù";
    //const bloodText  = "Tipo de sangre: A+";
	
	let lucknumberText  = "N√∫mero de suerte: ";
	
	let verseLink4 = "https://www.nike.com.co";

    // Slides: 2¬∫ es HTML, los dem√°s im√°genes
    let slides = [      
      { type: "html" },                     // 2 (vers√≠culo)
      { type: "image", file: "tem10.jpg" }, // 1
	  { type: "image", file: "tem11.jpg" }, // 3
      { type: "image", file: "tem12.jpg" },
      { type: "image", file: "tem13.jpg" },
      { type: "image", file: "tem14.jpg" }
      //{ type: "image", file: "tem15.jpg" },
      //{ type: "image", file: "tem16.jpg" }
    ];
	
	const quotes = [
	    "‚ÄúLa disciplina empieza donde termina la motivaci√≥n.‚Äù",
	    "‚ÄúHazlo sencillo, pero hazlo siempre.‚Äù",
        "‚ÄúCambia tus h√°bitos y cambia tu destino.‚Äù",
		"‚ÄúLo que repites, te construye.‚Äù",
        "‚ÄúLa acci√≥n cura el miedo.‚Äù",
		"‚ÄúTu futuro empieza hoy, no ma√±ana.‚Äù",
		"‚ÄúEl que se controla, vence.‚Äù",
		"‚ÄúNo te rindas: ajusta el plan, no el objetivo.‚Äù",
		"‚ÄúAvanza aunque sea un mil√≠metro.‚Äù",
		"‚ÄúHaz lo dif√≠cil hasta que sea f√°cil.‚Äù",
		"‚ÄúLa mente fuerte escucha, decide y act√∫a.‚Äù",
		"‚ÄúQuien domina su atenci√≥n, domina su mundo.‚Äù",
		"‚ÄúEl progreso ama la constancia.‚Äù",
		"‚ÄúTu vida mejora cuando t√∫ mejoras.‚Äù",
		"‚ÄúHaz m√°s de lo que dices y di menos de lo que haces.‚Äù",
		"‚ÄúDeja de esperar y empieza a construir.‚Äù",
		"‚ÄúAvanza sin hacer ruido.‚Äù",
		"‚ÄúSi te caes siete veces, lev√°ntate ocho.‚Äù",
		"‚ÄúSiembra disciplina y cosechar√°s libertad.‚Äù",
		"‚ÄúLa vida premia a los constantes.‚Äù",
		"‚ÄúMejora un 1% cada d√≠a.‚Äù",
		"‚ÄúHazlo por ti, no por aplausos.‚Äù",
		"‚ÄúMenos excusas, m√°s acci√≥n.‚Äù",
        "‚ÄúEl secreto para salir adelante es comenzar.‚Äù",
		"‚ÄúConstancia mata talento cuando el talento no es constante.‚Äù",
		"‚ÄúEl que persiste, llega.‚Äù",
		"‚ÄúNo te detengas: ajusta el ritmo, no el camino.‚Äù",
		"‚ÄúS√© fuerte cuando nadie te ve.‚Äù",
		"‚ÄúNo esperes milagros: construye h√°bitos.‚Äù",
		"‚ÄúCada d√≠a es una oportunidad nueva.‚Äù",
		"‚ÄúPersevera incluso cuando no tengas ganas.‚Äù",
		"‚ÄúHazlo aunque duela.‚Äù‚Äù",
		"‚ÄúPeque√±os avances crean grandes cambios.‚Äù",
		"‚ÄúSi controlas tus ma√±anas, controlas tu vida.‚Äù",
		"‚ÄúLo que empiezas, lo terminas.‚Äù",
		"‚ÄúLa constancia convierte metas en realidad.‚Äù"
		
		// "‚Äú‚Äù",
	];
	
	const versiculos =[
	    "‚ÄúJes√∫s dijo: Todo es posible para el que cree.‚Äù (Marcos 9:23)"
	   ,"‚ÄúY Jes√∫s dijo: No temas; cree solamente.‚Äù (Marcos 5:36)"
	   ,"‚ÄúJes√∫s dijo: Todo es posible para el que cree.‚Äù (Marcos 9:23)"
	   ,"‚ÄúJes√∫s le dijo: No te he dicho que si crees ver√°s la gloria de Dios?‚Äù (Juan 11:40)"
	   ,"‚ÄúY Jes√∫s dijo: Yo estoy con ustedes todos los d√≠as, hasta el fin del mundo.‚Äù (Mateo 28:20)"
	   ,"‚ÄúEl Se√±or es mi pastor, nada me falta.‚Äù (Salmo 23:1)"
	   ,"‚ÄúPorque todo aquel que invoque el nombre del Se√±or ser√° salvo.‚Äù (Romanos 10:13)"
	   ,"‚ÄúDel√©itate en el Se√±or, y √©l te conceder√° los deseos de tu coraz√≥n.‚Äù (Salmo 37:4)"
	   ,"‚ÄúEl Se√±or es mi fortaleza y mi escudo.‚Äù (Salmo 28:7)"
	   ,"‚ÄúEl Se√±or sostiene a los que caen.‚Äù (Salmo 145:14)"
	   ,"‚ÄúEl Se√±or dirige los pasos del hombre.‚Äù (Salmo 37:23)"
	   ,"‚ÄúEl Se√±or te dar√° fuerzas y te sostendr√°.‚Äù (Isaias 41:10)"
	   ,"‚ÄúConf√≠a en el Se√±or y √âl actuar√°.‚Äù (Salmo 37:5)"
	   ,"‚Äú√âl da fuerzas al cansado y multiplica las fuerzas del d√©bil.‚Äù (Isaias 40:29)"
	   ,"‚ÄúEl Se√±or te fortalecer√° y te ayudar√°; te sostendr√° con su mano victoriosa.‚Äù (Isaias 41:10)"
	   ,"‚ÄúEntr√©guenle todas sus preocupaciones a Dios, porque √âl cuida de ustedes.‚Äù (Pedro 5:7)"
	   
	   //,"‚Äú‚Äù"
	   
	   ]

    const imgElement   = document.getElementById("slide-img");
    const htmlElement  = document.getElementById("slide-html");
    const verseLinkEl  = document.getElementById("verse-link");
    const verseLinkEl2 = document.getElementById("verse-link2");
    const verseLinkEl3 = document.getElementById("verse-link3");
    const verseTextEl  = document.getElementById("verse-text");
    const quoteTextEl  = document.getElementById("quote-text");
    //const bloodTextEl  = document.getElementById("blood-text");
	const lucknumberTextEl  = document.getElementById("lucknumber-text");
	const verseLinkEl4 = document.getElementById("verse-link4");
		
    const messageBox   = document.getElementById("message");
    let displayTime  = 5000; // 6 segundos
	let randomNumber = 0;

    let currentIndex = 0;
	//https://gist.githubusercontent.com/usuario/loquesea/raw/mi-archivo.txt

    const parts = location.pathname.split("/").filter(p => p !== "");
    const penultima = parts[parts.length - 2];
	console.log("penultima:"+penultima);
	
    //2e622908bddcff30c1acb9bedf3094e3a64d8fd5  '11121197'
    fetch('https://gist.githubusercontent.com/ivanmoralescotes-ui/b10ff3e6d9a8dd1d680d62c6d964590b/raw/prop'+penultima+'.txt')
     .then(r => r.text())
     .then(r2 => {
   	        console.log("the object:"+r2);
			const props =JSON.parse(r2);
		    const mostrarVersiculo = props.versiculo;
			const mostrarNumeroSuerte = props.numerosuerte;	
			const theinstagram = props.instagram;
			const thewhatsapp = props.whatsapp;
			const thespotify = props.spotify;
			const thepublicidad = props.linkpublicidad;
			const nombrepublicidad = props.nombrepublicidad;
			const theimages = props.images;
			let imagesList = props.images ;//[];
			if (theimages != null && theimages.length > 0){
				//imagesList = theimages.split(",");
				console.log("first image:"+imagesList[0]);
			
			    let cuentaImagen = 1;
				
				for (const unaimagen of imagesList) {
				  if (slides.length > cuentaImagen){
				    slides[cuentaImagen] = 
					  { type: "image", file: unaimagen };
				    cuentaImagen = cuentaImagen + 1;
				  }
				}
				
			}
			
			//console.log("mostrarVersiculo:"+mostrarVersiculo);
 	     	if (mostrarVersiculo == "si") {
			  verseTextEl.style.display = 'block';
			} else {
			  verseTextEl.style.display = 'none';
			}
			
			// if mostrarInstagram
			if (theinstagram != "" && theinstagram != "no" ) {
			  verseLinkEl2.style.display = 'block';
			  verseLink2 = theinstagram;
			} else {
			  verseLinkEl2.style.display = 'none';
			}
			
			// if mostrarWhatsapp
			if (thewhatsapp != "" && thewhatsapp != "no") {
			  verseLinkEl3.style.display = 'block';
			  verseLink3 = "https://wa.me/" + thewhatsapp;
			} else {
			  verseLinkEl3.style.display = 'none';
			}
			
			// if mostrarSpotify
			if (thespotify != "" && thespotify != "no") {
			  verseLinkEl.style.display = 'block';
			  verseLink = "https://open.spotify.com/playlist/" + thespotify;
			} else {
			  verseLinkEl.style.display = 'none';
			}
			
			// if mostrarNumeroSuerte
			if (mostrarNumeroSuerte == "si") {
			  lucknumberTextEl.style.display = 'block';
			} else {
			  lucknumberTextEl.style.display = 'none';
			}
			
			// if mostrarPublicidad
			if (thepublicidad != "" && thepublicidad != "no"){
				verseLinkEl4.style.display = 'block';
				verseLink4 = thepublicidad;
			}else{
				verseLinkEl4.style.display = 'none';
			}
			
	        if (nombrepublicidad != "" && nombrepublicidad != "no"){
				verseLinkEl4.innerHTML  = "<i>"+nombrepublicidad+"</i>";				
			}else{
				verseLinkEl4.innerHTML = 'Ad';
			}	
			
        });

    


    

    function showMessage(text) {
      messageBox.textContent = text;
      messageBox.style.display = "block";
    }

    // üîπ Transici√≥n suavizada: primero se desvanece, luego se carga y se vuelve a mostrar
    function showSlide(index) {
      if (!slides.length) {
        showMessage("No hay slides configurados.");
        return;
      }

      const slide = slides[index];

      // Quitamos clase show para que empiece a desvanecerse
      imgElement.classList.remove("show");
      htmlElement.classList.remove("show");

      // Esperamos un poco para que la salida no sea brusca
      setTimeout(() => {
        if (slide.type === "image") {
          // cuando cargue la imagen, la mostramos con fade-in
          imgElement.onload = () => {
            imgElement.classList.add("show");
          };
          imgElement.src = slide.file; // misma carpeta que el HTML
          imgElement.alt = slide.file;

        } else if (slide.type === "html") {
          verseLinkEl.href  = verseLink;
          verseLinkEl2.href = verseLink2;
          verseLinkEl3.href = verseLink3;
          verseLinkEl4.href = verseLink4;

          //verseTextEl.textContent  = verseText;
		  const quoteNumber = getRandomNumber(0,(quotes.length-1) ); //22
		  const versiculoNumber = getRandomNumber(0,(versiculos.length-1) );//7
          quoteTextEl.textContent  = quotes[quoteNumber]; //quoteText
          verseTextEl.textContent  = versiculos[versiculoNumber]; //quoteText
		  //bloodTextEl.textContent  = bloodText;
		  		  
		  lucknumberTextEl.textContent =lucknumberText + getRandomNumber(0,36);

          htmlElement.classList.add("show");
        }
      }, 300); // peque√±o delay para que el fade-out se sienta m√°s suave. 200
    }

	function getRandomNumber(min, max) {
	  min = Math.ceil(min);
	  max = Math.floor(max);
	  return Math.floor(Math.random() * (max - min + 1)) + min;
	}

    function initSlideshow() {
      if (slides.length === 0) {
        showMessage("No hay slides configurados.");
        return;
      }

      showSlide(currentIndex);

      if (currentIndex==0){
	     displayTime=7000;
	  }else{
	     displayTime=15000;
	  }
	  
      setInterval(() => {
        currentIndex = (currentIndex + 1) % slides.length;
        showSlide(currentIndex);
      }, displayTime);
    }

    window.addEventListener("load", initSlideshow);
  </script>

</body>
</html>
